function get_user_db() {
  const user = [
    {
      name: "User Name 1",
      id: "21B20222",
      div: "D1",
      tut: "T1",
      email: "jana.rakesh41@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 2",
      id: "21B20223",
      div: "D1",
      tut: "T1",
      email: "jana.rakesh41@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 3",
      id: "21B20224",
      div: "D1",
      tut: "T1",
      email: "jana.rakesh41@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 4",
      id: "21B20225",
      div: "D1",
      tut: "T2",
      email: "jana.rakesh41@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 5",
      id: "21B20226",
      div: "D1",
      tut: "T2",
      email: "jana.rakesh41@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 6",
      id: "21B20227",
      div: "D1",
      tut: "T2",
      email: "jana.rakesh41@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 7",
      id: "21B20228",
      div: "D1",
      tut: "T2",
      email: "jana.rakesh41@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 8",
      id: "21B20229",
      div: "D1",
      tut: "T2",
      email: "jana.rakesh41@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 9",
      id: "21B202210",
      div: "D1",
      tut: "T2",
      email: "jana.rakesh41@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 10",
      id: "21B202211",
      div: "D1",
      tut: "T3",
      email: "jana.rakesh41@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 11",
      id: "21B202212",
      div: "D1",
      tut: "T3",
      email: "jana.rakesh41@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 12",
      id: "21B202213",
      div: "D1",
      tut: "T3",
      email: "jana.rakesh41@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 13",
      id: "21B202214",
      div: "D1",
      tut: "T3",
      email: "jana.rakesh41@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 14",
      id: "21B202215",
      div: "D1",
      tut: "T3",
      email: "jana.rakesh41@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 15",
      id: "21B202216",
      div: "D1",
      tut: "T3",
      email: "jana.rakesh41@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 16",
      id: "21B202217",
      div: "D1",
      tut: "T3",
      email: "jana.rakesh41@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 17",
      id: "21B202218",
      div: "D2",
      tut: "T3",
      email: "jana.rakesh41@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 18",
      id: "21B202219",
      div: "D2",
      tut: "T1",
      email: "jana.rakesh41@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 19",
      id: "21B202220",
      div: "D2",
      tut: "T1",
      email: "jana.rakesh41@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 20",
      id: "21B202221",
      div: "D2",
      tut: "T1",
      email: "jana.rakesh41@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 21",
      id: "21B202222",
      div: "D2",
      tut: "T1",
      email: "junkhitman@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 22",
      id: "21B202223",
      div: "D2",
      tut: "T2",
      email: "junkhitman@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 23",
      id: "21B202224",
      div: "D2",
      tut: "T2",
      email: "junkhitman@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 24",
      id: "21B202225",
      div: "D2",
      tut: "T2",
      email: "junkhitman@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 25",
      id: "21B202226",
      div: "D2",
      tut: "T2",
      email: "junkhitman@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 26",
      id: "21B202227",
      div: "D2",
      tut: "T2",
      email: "junkhitman@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 27",
      id: "21B202228",
      div: "D2",
      tut: "T2",
      email: "junkhitman@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 28",
      id: "21B202229",
      div: "D2",
      tut: "T3",
      email: "junkhitman@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 29",
      id: "21B202230",
      div: "D2",
      tut: "T3",
      email: "junkhitman@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 30",
      id: "21B202231",
      div: "D2",
      tut: "T3",
      email: "junkhitman@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 31",
      id: "21B202232",
      div: "D3",
      tut: "T3",
      email: "junkhitman@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 32",
      id: "21B202233",
      div: "D3",
      tut: "T3",
      email: "junkhitman@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 33",
      id: "21B202234",
      div: "D3",
      tut: "T3",
      email: "junkhitman@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 34",
      id: "21B202235",
      div: "D3",
      tut: "T3",
      email: "junkhitman@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 35",
      id: "21B202236",
      div: "D3",
      tut: "T3",
      email: "junkhitman@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 36",
      id: "21B202237",
      div: "D3",
      tut: "T1",
      email: "junkhitman@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 37",
      id: "21B202238",
      div: "D3",
      tut: "T1",
      email: "junkhitman@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 38",
      id: "21B202239",
      div: "D3",
      tut: "T1",
      email: "junkhitman@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 39",
      id: "21B202240",
      div: "D3",
      tut: "T1",
      email: "junkhitman@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 40",
      id: "21B202241",
      div: "D3",
      tut: "T1",
      email: "junkhitman@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 41",
      id: "21B202242",
      div: "D3",
      tut: "T2",
      email: "junkhitman@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 42",
      id: "21B202243",
      div: "D3",
      tut: "T2",
      email: "junkhitman@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 43",
      id: "21B202244",
      div: "D3",
      tut: "T2",
      email: "junkhitman@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 44",
      id: "21B202245",
      div: "D2",
      tut: "T1",
      email: "junkhitman@gmail.com",
      type: "stud",
    },
    {
      name: "User Name 45",
      id: "21B202246",
      div: "D3",
      tut: "T2",
      email: "20002828@iitb.ac.in",
      type: "admin",
    },
  ];
  return user;
}

/**
 * Get Email ID of Active user
 */
function getActiveUser() {
  //for development purpose
  //return "20002828@iitb.ac.in";

  // In production remove all previous lines

  const activeUser = Session.getActiveUser().getEmail();
  return activeUser;
}

/**
 * Check whether an email exist in
 * the user database
 */

function getUserAccess() {
  const errorAccess = { type: "denied", error: "Database Error" };
  const deniedAccess = { type: "denied", error: "Email Not Registered" };

  const user_db = get_user_db();
  if (!Array.isArray(user_db)) return errorAccess;

  const activeUser = getActiveUser();
  const userAccess = user_db.find((u) => u.email === activeUser);
  if (userAccess) return userAccess;
  return deniedAccess;
}
